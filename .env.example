# ================================================
# DATABASE CONFIGURATION
# ================================================
# PostgreSQL connection string
DATABASE_URL="postgresql://username:password@localhost:5432/catalyst_db"

# ================================================
# APPLICATION SETTINGS  
# ================================================
NODE_ENV=development
NEXT_PUBLIC_APP_NAME="Catalyst App"
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# API Configuration
API_SECRET_KEY="your-secret-key-here"

# Default Website ID for URL Resolution (Story 8.8)
# IMPORTANT: Set this to a valid website ID from your database
# Without this, URL resolution will not work
DEFAULT_WEBSITE_ID="your-website-id-here"

# URL Resolution Settings
URL_CASE_INSENSITIVE="false"

# ================================================
# AI CONFIGURATION
# ================================================
# OpenRouter Configuration
# Get your API key from https://openrouter.ai/keys
OPENROUTER_API_KEY="sk-or-v1-your-api-key-here"

# OpenRouter Model Selection
# Available models: https://openrouter.ai/models
# Examples:
# - anthropic/claude-3.5-sonnet (default)
# - openai/gpt-4-turbo
# - google/gemini-pro
# - meta-llama/llama-3-70b-instruct
OPENROUTER_MODEL="anthropic/claude-3.5-sonnet"

# ================================================
# AUTHENTICATION
# ================================================
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-nextauth-secret"

# ================================================
# EPIC 7 - UNIVERSAL TYPE SYSTEM
# ================================================
# CMS Provider Configuration
# Available providers: optimizely, mock, contentful (future), strapi (future), wordpress (future)
# Use 'mock' for development without CMS credentials
# Use 'auto' to auto-detect based on available credentials
CMS_PROVIDER="auto"
NEXT_PUBLIC_CMS_PROVIDER="auto"

# Universal Type System Settings
# Enable dynamic type loading (automatically discovers existing types)
UNIVERSAL_TYPE_DYNAMIC_LOADING="true"

# Cache timeout for type definitions (milliseconds)
UNIVERSAL_TYPE_CACHE_TIMEOUT="60000"

# Confidence threshold for automatic type application (0-100)
# Types with confidence below this threshold require manual review
UNIVERSAL_TYPE_CONFIDENCE_THRESHOLD="70"

# Maximum number of types that can be created in a single session
UNIVERSAL_TYPE_MAX_SESSION_TYPES="50"

# Enable verbose logging for type operations
UNIVERSAL_TYPE_DEBUG="false"

# ================================================
# CMS PROVIDER CONFIGURATIONS
# ================================================
# Optimizely Configuration (optional - required only if using Optimizely provider)
OPTIMIZELY_CLIENT_ID="your-optimizely-client-id"
OPTIMIZELY_CLIENT_SECRET="your-optimizely-client-secret"
OPTIMIZELY_PROJECT_ID="your-project-id"

# Provider Performance Settings
# Delay in milliseconds for mock provider (useful for testing loading states)
MOCK_PROVIDER_DELAY="0"
# Enable provider caching
PROVIDER_CACHE_ENABLED="true"
# Cache TTL in seconds
PROVIDER_CACHE_TTL="300"

# ================================================
# FEATURE FLAGS
# ================================================
# Enable/disable specific Epic 7 features
FEATURE_UNIVERSAL_TYPES="true"
FEATURE_AI_GENERATION="true"
FEATURE_PROVIDER_SELECTION="true"
FEATURE_TRANSFORMATION_API="true"
FEATURE_VALIDATION_API="true"
FEATURE_CONFIDENCE_SCORING="true"

# ================================================
# SECURITY BEST PRACTICES
# ================================================
# 1. Never commit .env file to version control
# 2. Generate strong secrets using: openssl rand -base64 32
# 3. Update DATABASE_URL with your actual database credentials
# 4. Configure only the providers you're actually using
# 5. Enable features incrementally in production
# 6. Monitor performance impact of enabled features
# 7. Regularly rotate secrets and API keys